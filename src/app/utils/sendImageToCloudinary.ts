import { v2 as cloudinary } from "cloudinary";
import multer from "multer";

export const sendImageToCloudinary = async () => {
  cloudinary.config({
    cloud_name: "dlg6l7hv6",
    api_key: "839311665954828",
    api_secret: "v0Fi5owLMBUNX2W45tfbQXg3hrs", // Click 'View API Keys' above to copy your API secret
  });

  // Upload an image
  const uploadResult = await cloudinary.uploader
    .upload(
      "data:image/jpeg;base64,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",
      {
        public_id: "Leo",
      },
    )
    .catch((error) => {
      console.log(error);
    });

  console.log(uploadResult);

  //   // Optimize delivery by resizing and applying auto-format and auto-quality
  //   const optimizeUrl = cloudinary.url("shoes", {
  //     fetch_format: "auto",
  //     quality: "auto",
  //   });

  //   console.log(optimizeUrl);

  //   // Transform the image: auto-crop to square aspect_ratio
  //   const autoCropUrl = cloudinary.url("shoes", {
  //     crop: "auto",
  //     gravity: "auto",
  //     width: 500,
  //     height: 500,
  //   });
};

const storage = multer.diskStorage({
  destination: function (req, file, cb) {
    cb(null, process.cwd() + "/uplods/");
  },
  filename: function (req, file, cb) {
    const uniqueSuffix = Date.now() + "-" + Math.round(Math.random() * 1e9);
    cb(null, file.fieldname + "-" + uniqueSuffix);
  },
});

export const upload = multer({ storage: storage });
